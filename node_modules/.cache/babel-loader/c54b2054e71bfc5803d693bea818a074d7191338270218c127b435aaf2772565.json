{"ast":null,"code":"const prefix = /^([0-9]+)/;\nconst toObject = function (txt) {\n  let obj = {};\n  txt.split('¦').forEach(str => {\n    let [key, vals] = str.split(':');\n    vals = (vals || '').split(',');\n    vals.forEach(val => {\n      obj[val] = key;\n    });\n  });\n  return obj;\n};\nconst growObject = function () {\n  let key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  let val = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  val = String(val);\n  let m = val.match(prefix);\n  if (m === null) {\n    return val;\n  }\n  let num = Number(m[1]) || 0;\n  let pre = key.substring(0, num);\n  let full = pre + val.replace(prefix, '');\n  return full;\n};\nconst unpackOne = function (str) {\n  let obj = toObject(str);\n  return Object.keys(obj).reduce((h, k) => {\n    h[k] = growObject(k, obj[k]);\n    return h;\n  }, {});\n};\nconst uncompress = function () {\n  let model = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  if (typeof model === 'string') {\n    model = JSON.parse(model);\n  }\n  model.fwd = unpackOne(model.fwd || '');\n  model.both = unpackOne(model.both || '');\n  model.rev = unpackOne(model.rev || '');\n  model.ex = unpackOne(model.ex || '');\n  return model;\n};\nexport default uncompress;","map":{"version":3,"names":["prefix","toObject","txt","obj","split","forEach","str","key","vals","val","growObject","arguments","length","undefined","String","m","match","num","Number","pre","substring","full","replace","unpackOne","Object","keys","reduce","h","k","uncompress","model","JSON","parse","fwd","both","rev","ex"],"sources":["C:/Users/swths/node_modules/suffix-thumb/src/compress/unpack.js"],"sourcesContent":["const prefix = /^([0-9]+)/\n\nconst toObject = function (txt) {\n  let obj = {}\n  txt.split('¦').forEach(str => {\n    let [key, vals] = str.split(':')\n    vals = (vals || '').split(',')\n    vals.forEach(val => {\n      obj[val] = key\n    })\n  })\n  return obj\n}\n\nconst growObject = function (key = '', val = '') {\n  val = String(val)\n  let m = val.match(prefix)\n  if (m === null) {\n    return val\n  }\n  let num = Number(m[1]) || 0\n  let pre = key.substring(0, num)\n  let full = pre + val.replace(prefix, '')\n  return full\n}\n\nconst unpackOne = function (str) {\n  let obj = toObject(str)\n  return Object.keys(obj).reduce((h, k) => {\n    h[k] = growObject(k, obj[k])\n    return h\n  }, {})\n}\n\nconst uncompress = function (model = {}) {\n  if (typeof model === 'string') {\n    model = JSON.parse(model)\n  }\n  model.fwd = unpackOne(model.fwd || '')\n  model.both = unpackOne(model.both || '')\n  model.rev = unpackOne(model.rev || '')\n  model.ex = unpackOne(model.ex || '')\n  return model\n}\nexport default uncompress\n"],"mappings":"AAAA,MAAMA,MAAM,GAAG,WAAW;AAE1B,MAAMC,QAAQ,GAAG,SAAAA,CAAUC,GAAG,EAAE;EAC9B,IAAIC,GAAG,GAAG,CAAC,CAAC;EACZD,GAAG,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAACC,GAAG,IAAI;IAC5B,IAAI,CAACC,GAAG,EAAEC,IAAI,CAAC,GAAGF,GAAG,CAACF,KAAK,CAAC,GAAG,CAAC;IAChCI,IAAI,GAAG,CAACA,IAAI,IAAI,EAAE,EAAEJ,KAAK,CAAC,GAAG,CAAC;IAC9BI,IAAI,CAACH,OAAO,CAACI,GAAG,IAAI;MAClBN,GAAG,CAACM,GAAG,CAAC,GAAGF,GAAG;IAChB,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAOJ,GAAG;AACZ,CAAC;AAED,MAAMO,UAAU,GAAG,SAAAA,CAAA,EAA8B;EAAA,IAApBH,GAAG,GAAAI,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,IAAEF,GAAG,GAAAE,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAC7CF,GAAG,GAAGK,MAAM,CAACL,GAAG,CAAC;EACjB,IAAIM,CAAC,GAAGN,GAAG,CAACO,KAAK,CAAChB,MAAM,CAAC;EACzB,IAAIe,CAAC,KAAK,IAAI,EAAE;IACd,OAAON,GAAG;EACZ;EACA,IAAIQ,GAAG,GAAGC,MAAM,CAACH,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;EAC3B,IAAII,GAAG,GAAGZ,GAAG,CAACa,SAAS,CAAC,CAAC,EAAEH,GAAG,CAAC;EAC/B,IAAII,IAAI,GAAGF,GAAG,GAAGV,GAAG,CAACa,OAAO,CAACtB,MAAM,EAAE,EAAE,CAAC;EACxC,OAAOqB,IAAI;AACb,CAAC;AAED,MAAME,SAAS,GAAG,SAAAA,CAAUjB,GAAG,EAAE;EAC/B,IAAIH,GAAG,GAAGF,QAAQ,CAACK,GAAG,CAAC;EACvB,OAAOkB,MAAM,CAACC,IAAI,CAACtB,GAAG,CAAC,CAACuB,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;IACvCD,CAAC,CAACC,CAAC,CAAC,GAAGlB,UAAU,CAACkB,CAAC,EAAEzB,GAAG,CAACyB,CAAC,CAAC,CAAC;IAC5B,OAAOD,CAAC;EACV,CAAC,EAAE,CAAC,CAAC,CAAC;AACR,CAAC;AAED,MAAME,UAAU,GAAG,SAAAA,CAAA,EAAsB;EAAA,IAAZC,KAAK,GAAAnB,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACrC,IAAI,OAAOmB,KAAK,KAAK,QAAQ,EAAE;IAC7BA,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACF,KAAK,CAAC;EAC3B;EACAA,KAAK,CAACG,GAAG,GAAGV,SAAS,CAACO,KAAK,CAACG,GAAG,IAAI,EAAE,CAAC;EACtCH,KAAK,CAACI,IAAI,GAAGX,SAAS,CAACO,KAAK,CAACI,IAAI,IAAI,EAAE,CAAC;EACxCJ,KAAK,CAACK,GAAG,GAAGZ,SAAS,CAACO,KAAK,CAACK,GAAG,IAAI,EAAE,CAAC;EACtCL,KAAK,CAACM,EAAE,GAAGb,SAAS,CAACO,KAAK,CAACM,EAAE,IAAI,EAAE,CAAC;EACpC,OAAON,KAAK;AACd,CAAC;AACD,eAAeD,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}